<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css" rel="stylesheet">
<div id="map" style="display: none;">
  <div style="width: 100%; height: 600px;"
    data-controller="map"
    data-map-markers-value=""
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>
<script>
  // Wait for the DOM to be ready
  document.addEventListener("DOMContentLoaded", function() {
    // Get references to the link and the partial map container
    const showMapLink = document.getElementById("show-map-link");
    const Map = document.getElementById("map");

    // Handle click event on the "Show Map" link
    showMapLink.addEventListener("click", function(event) {
      // Prevent the default behavior of the link (e.g., navigating to a new page)
      event.preventDefault();

      // Toggle the visibility of the partial map container
      if (Map.style.display === "none") {
        Map.style.display = "block";
      } else {
        Map.style.display = "none";
      }
    });
  });
</script>
